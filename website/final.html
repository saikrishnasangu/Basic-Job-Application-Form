<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>IDS</title>
    <link href="/website/bs.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        body {
            padding-top: 100px;
        }
        .fixed-top {
            position: fixed;
            width: 100%;
            z-index: 1030;
        }
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            background-color: #007bff; 
            color: white;
        }
        .form-header {
            margin-bottom: 0;
        }
    </style>
</head>
<body>
    <div class="container mt-3 bg-light">
        <form class="text-center p-3" onsubmit="return validateForm()">
            <div class="container fixed-top text-center bg-primary text-white">
                <div class="header-container">
                    <h1 class="form-header">Basic Job Application Form</h1>
                    <button type="submit" class="btn btn-success form-control-sm">Submit Application</button>
                </div>
                <div class="bg-primary p-2">
                    <span id="fname1" class="text-danger "></span>
                    <span id="lname1" class="text-danger "></span>
                    <span id="email1" class="text-danger "></span>
                    <span id="phone2" class="text-danger "></span>
                    <span id="pan2" class="text-danger "></span>
                    <span id="dob2" class="text-danger"></span>
                    <span id="add1" class="text-danger"></span>
                    <span id="res" class="text-danger"></span>
                </div>
            </div>
            <div class="row mt-5">
                <div class="col">
                    <label for="fname" class="form-label">First Name:</label>
                    <input type="text" id="fname" class="form-control" placeholder="Enter first name" name="fname" autocomplete="off">
                </div>
                <div class="col">
                    <label for="lname" class="form-label">Last Name:</label>
                    <input type="text" id="lname" class="form-control" placeholder="Enter last name" name="lname" autocomplete="off">
                </div>
            </div>

            <div class="row mt-5">
                <div class="col">
                    <label for="pos" class="form-label">Applied Position:</label>
                    <select class="form-control" id="pos" name="position">
                        <option value="">Select an option</option>
                        <option value="sm">Intern</option>
                        <option value="li">Software Engineer</option>
                        <option value="cs">Data Analyst</option>
                    </select>
                </div>
                <div class="col">
                    <label for="gender" class="form-label">Gender:</label>
                    <select class="form-control" id="gender" name="gender">
                        <option value="">Select an option</option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="other">Other</option>
                    </select>
                </div>
            </div>

            <div class="row mt-5">
                <div class="col">
                    <label for="email" class="form-label">Email address:</label>
                    <input type="email" id="email" class="form-control" placeholder="Enter your email" autocomplete="off">
                </div>
                <div class="col">
                    <label for="phone" class="form-label">Phone Number:</label>
                    <input type="text" id="phone" class="form-control" placeholder="0000000000" onkeypress="validateNumberInput(event)" autocomplete="off">
                    <div class="invalid-feedback">Please enter a valid phone number starting with 6-9 and 10 digits.</div>
                </div>
            </div>

            <div class="row mt-5">
                <div class="col">
                    <label for="pan" class="form-label">Enter PAN Number:</label>
                    <input type="text" id="pan" class="form-control" pattern="[A-Z]{5}\d{4}[A-Z]{1}" title="Enter a valid PAN number in format Eg: JBOPS-4197-A" maxlength="12" placeholder="XXXXX-0000-X" autocomplete="off">
                </div>
                <div class="col">
                    <label class="form-label">Date of Birth:</label>
                    <input type="date" class="form-control" id="dob" name="dob">
                    <div id="dobErrorMessage" style="color: red;"></div>
                </div>
            </div>

            <div class="row mt-5">
                <div class="col">
                    <label for="hear" class="form-label">How did you hear about this role:</label>
                    <select class="form-control" id="hear" name="hear-role">
                        <option value="">Select an option</option>
                        <option value="sm">Social Media</option>
                        <option value="li">LinkedIn</option>
                        <option value="cs">Careers</option>
                    </select>
                </div>
                <div class="col">
                    <label for="hqa" class="form-label">Highest Qualification Degree:</label>
                    <select class="form-control" id="hqa" name="qualification">
                        <option value="">Select an option</option>
                        <option value="Diploma">Diploma</option>
                        <option value="Bachelors">Bachelors</option>
                        <option value="Masters">Masters</option>
                    </select>
                </div>
            </div>

            <div class="row mt-3" id="collegeFields" style="display: none;">
                <div class="col">
                    <label for="collegeName" class="form-label">College Name:</label>
                    <input type="text" class="form-control" id="collegeName" name="collegeName">
                </div>
                <div class="col">
                    <label for="passingYear" class="form-label">Year of Passing:</label>
                    <input type="text" class="form-control" id="passingYear" name="passingYear">
                </div>
            </div>

            <div class="row mt-5">
                <div class="col">
                    <label for="presentAddress" class="form-label">Present Address:</label>
                    <textarea class="form-control" id="presentAddress" name="presentAddress" placeholder="Enter your present address"></textarea>
                </div>
                <div class="col">
                    <label for="permanentAddress" class="form-label">Permanent Address:</label>
                    <textarea class="form-control" id="permanentAddress" name="permanentAddress" placeholder="Enter your permanent address"></textarea>
                    <label for="copyAddress">Same as Present Address</label>
                    <input type="checkbox" id="copyAddress" onchange="copyPreAddress()">
                </div>
            </div>

            <div class="row mt-5">
                <div class="col">
                    <label for="resume" class="form-label">Attach Resume:</label>
                    <input type="file" id="resume" class="form-control form-control-file" name="resume" accept=".pdf,.doc,.docx">
                    <small class="form-text text-muted">Accepted formats: PDF, DOC, DOCX</small>
                </div>
            </div>
        </form>
    </div>
    <script>
        // Function to copy present address to permanent address
        function copyPreAddress() {
            var presentAddress = document.getElementById('presentAddress').value;
            var permanentAddress = document.getElementById('permanentAddress');
            var checkbox = document.getElementById('copyAddress');
    
            if (checkbox.checked) {
                permanentAddress.value = presentAddress;
                permanentAddress.disabled = true; 
            } else {
                permanentAddress.value = '';
                permanentAddress.disabled = false; 
            }
        }

        document.getElementById('presentAddress').addEventListener('input', function() {
            var permanentAddress = document.getElementById('permanentAddress');
            var checkbox = document.getElementById('copyAddress');
    
            if (checkbox.checked) {
                permanentAddress.value = this.value;
            }
        });
        document.getElementById('copyAddress').addEventListener('change', copyPreAddress);


        function validateNumberInput(event) {
            const input = document.getElementById('phone'); 
                if (isNaN(event.key) || event.key === ' ' || 
                (input.value.length === 0 && !['6', '7', '8', '9'].includes(event.key)) || 
                input.value.length >= 10) event.preventDefault();
        }

        // Form validation function
        function validateForm() {
            var fname = document.getElementById("fname");
            if (fname.value.trim() == "") {
                fname.focus();
                document.getElementById("fname1").innerHTML = "*Please fill first name";
                return false;
            } else {
                document.getElementById("fname1").innerHTML = "";
            }

            var lname = document.getElementById("lname");
            if (lname.value.trim() == "") {
                lname.focus();
                document.getElementById("lname1").innerHTML = "*Please fill last name";
                return false;
            } else {
                document.getElementById("lname1").innerHTML = "";
            }

            var email = document.getElementById("email");
            if (email.value.trim() == "") {
                email.focus();
                document.getElementById("email1").innerHTML = "*Please enter email";
                return false;
            } else {
                document.getElementById("email1").innerHTML = "";
            }

            var phone = document.getElementById("phone");
            if (phone.value.trim() == "") {
                phone.focus();
                document.getElementById("phone2").innerHTML = "*Please enter phone number";
                return false;
            } else {
                document.getElementById("phone2").innerHTML = "";
            }

            var pan = document.getElementById("pan");
            if (pan.value.trim() == "") {
                pan.focus();
                document.getElementById("pan2").innerHTML = "*Please enter PAN number";
                return false;
            } else {
                document.getElementById("pan2").innerHTML = "";
            }

            var dob = document.getElementById("dob");
            if (dob.value.trim() == "") {
                dob.focus();
                document.getElementById("dob2").innerHTML = "*Please enter DOB";
                return false;
            } else {
                document.getElementById("dob2").innerHTML = "";
            }

            var presentAdd = document.getElementById("presentAddress");
            if (presentAdd.value.trim() == "") {
                presentAdd.focus();
                document.getElementById("add1").innerHTML = "Please fill the present address";
                return false;
            } else {
                document.getElementById("add1").innerHTML = "";
            }

            var permanentAdd = document.getElementById("permanentAddress");
            var copyAddressChecked = document.getElementById('copyAddress').checked;
            if (copyAddressChecked && permanentAdd.value.trim() == "") {
                permanentAdd.focus();
                document.getElementById("add1").innerHTML = "Please fill the permanent address";
                return false;
            } else {
                document.getElementById("add1").innerHTML = "";
            }

            var resume = document.getElementById("resume");
            if (!resume.value) {
                resume.focus();
                document.getElementById("res").innerHTML = "Please upload your resume";
                return false;
            } 
        
        }
    </script>
</body>
</html>
